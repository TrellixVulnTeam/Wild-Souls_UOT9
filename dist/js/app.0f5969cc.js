(function(){"use strict";var e={170:function(e,r,t){var o=t(242),s=t(396),a=t(139);const n={class:"container"},i={class:"d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom"},l=(0,s._)("i",{class:"bi bi-bootstrap-fill me-2"},null,-1),c=(0,s._)("span",{class:"fs-4"},"Simple header",-1),u={class:"nav nav-pills"},d={key:0,class:"nav-item"},m={class:"container"},p={class:"row"},g={class:"col-12"};function b(e,r,t,o,b,f){const h=(0,s.up)("router-link"),_=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",n,[(0,s._)("header",i,[(0,s.Wm)(h,{to:"/",class:"d-flex align-items-center mb-3 mb-md-0 me-md-auto text-dark text-decoration-none"},{default:(0,s.w5)((()=>[l,c])),_:1}),(0,s._)("ul",u,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(f.navOptions,((e,r)=>((0,s.wg)(),(0,s.iD)("li",{key:r,class:"nav-item"},[(0,s.Wm)(h,{class:(0,a.C_)(["nav-link",this.$route.path===e.route?"active":""]),to:e.route},{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(e.text),1)])),_:2},1032,["class","to"])])))),128)),f.loggedIn?((0,s.wg)(),(0,s.iD)("li",d,[(0,s._)("a",{class:"nav-link",href:"#",onClick:r[0]||(r[0]=(...e)=>f.logout&&f.logout(...e))},"Cerrar Sesión")])):(0,s.kq)("",!0)])])]),(0,s._)("div",m,[(0,s._)("div",p,[(0,s._)("div",g,[(0,s._)("div",null,[(0,s.Wm)(_)])])])])])}var f={name:"App",data(){return{}},methods:{logout(){this.$store.dispatch("auth/logout"),this.$router.push("/")}},computed:{loggedIn(){return this.$store.state.auth.status.loggedIn},navOptions(){let e=[{route:"/",text:"Inicio"},{route:"/acerca-de",text:"Acerca de"}];return this.loggedIn&&(e=[...e]),e}},watch:{},mounted(){}},h=t(89);const _=(0,h.Z)(f,[["render",b]]);var v=_;const w=(0,s._)("i",{class:"bi bi-arrow-right-circle"},null,-1),y={class:"dropdown"},k=(0,s.uE)('<button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown"> Dropdown button </button><ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1"><li><a class="dropdown-item" href="#">Action</a></li><li><a class="dropdown-item" href="#">Another action</a></li><li><a class="dropdown-item" href="#">Something else here</a></li></ul>',2);function P(e,r,t,o,n,i){const l=(0,s.up)("loader-component");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("h1",null,[(0,s.Uk)((0,a.zw)(n.mensaje)+" ",1),w]),(0,s._)("div",y,[k,(0,s.Wm)(l)])])}var I={name:"HomePage",data(){return{mensaje:"Hola!"}},methods:{},computed:{loggedIn(){return this.$store.state.auth.status.loggedIn}},watch:{},created(){},mounted(){},components:{}};const U=(0,h.Z)(I,[["render",P]]);var E=U;const L=(0,s._)("h1",null,"Acerca de",-1),S=[L];function A(e,r,t,o,a,n){return(0,s.wg)(),(0,s.iD)("div",null,S)}var R={name:"AcercaDePage",data(){return{}},methods:{},computed:{},watch:{},created(){},mounted(){}};const C=(0,h.Z)(R,[["render",A]]);var q=C;const O={class:"mb-3"},W=(0,s._)("label",{for:"email",class:"form-label"},"Correo Electrónico",-1),B={class:"input-group has-validation"},D={class:"invalid-feedback"},j={class:"mb-3"},F=(0,s._)("label",{for:"password"},"Contraseña",-1),x={class:"mb-3"},z=["disabled"],N={class:"spinner-border spinner-border-sm"},V=(0,s._)("span",null,"Iniciar Sesión",-1),$={class:"form-group"},M={key:0,class:"alert alert-danger",role:"alert"};function Z(e,r,t,n,i,l){const c=(0,s.up)("Field"),u=(0,s.up)("ErrorMessage"),d=(0,s.up)("Form");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{onSubmit:l.onSubmit,"validation-schema":i.schema,class:"needs-validation"},{default:(0,s.w5)((()=>[(0,s._)("div",O,[W,(0,s._)("div",B,[(0,s.Wm)(c,{name:"email",type:"email",class:"form-control"}),(0,s._)("div",D,[(0,s.Wm)(u,{as:"div",name:"email",class:"error-feedback"})])])]),(0,s._)("div",j,[F,(0,s.Wm)(c,{name:"password",type:"password",class:"form-control"}),(0,s.Wm)(u,{name:"password",class:"error-feedback"})]),(0,s._)("div",x,[(0,s._)("button",{class:"btn btn-primary btn-block",disabled:i.loading},[(0,s.wy)((0,s._)("span",N,null,512),[[o.F8,i.loading]]),V],8,z)]),(0,s._)("div",$,[i.message?((0,s.wg)(),(0,s.iD)("div",M,(0,a.zw)(i.message),1)):(0,s.kq)("",!0)])])),_:1},8,["onSubmit","validation-schema"])])}var H=t(708),T=t(26),J=t(484),K={name:"LoginPage",data(){const e=(0,T.L)(J.z.object({email:J.z.string({required_error:"El correo electrónico es un campo requerido."}).min(1,"El correo electrónico es un campo requerido."),password:J.z.string({required_error:"La contraseña es un campo requerido."}).min(1,"La contraseña es un campo requerido.")}));return{loading:!1,message:"",schema:e}},methods:{onSubmit(e){this.loading=!0,this.$store.dispatch("auth/login",e).then((()=>this.$router.push("/")),(e=>{this.loading=!1,this.message=e}))}},computed:{loggedIn(){return this.$store.state.auth.status.loggedIn}},watch:{},created(){this.loggedIn&&this.$router.push("/")},mounted(){},components:{Form:H.l0,Field:H.gN,ErrorMessage:H.Bc}};const X=(0,h.Z)(K,[["render",Z]]);var Y=X;const G=(0,s._)("h1",null,"Registro",-1),Q={class:"mb-3"},ee=(0,s._)("label",{for:"name",class:"form-label"},"Nombre",-1),re={class:"mb-3"},te=(0,s._)("label",{for:"lastname",class:"form-label"},"Apellido",-1),oe={class:"mb-3"},se=(0,s._)("label",{for:"email",class:"form-label"},"Correo Electrónico",-1),ae={class:"mb-3"},ne=(0,s._)("label",{for:"password",class:"form-label"},"Contraseña",-1),ie={class:"mb-3"},le=(0,s._)("label",{for:"repeat_password",class:"form-label"},"Repite tu contraseña",-1),ce={class:"mb-3"},ue=["disabled"],de={class:"spinner-border spinner-border-sm"},me=(0,s._)("span",null,"Registrarme",-1),pe={class:"form-group"},ge={key:0,class:"alert alert-danger",role:"alert"},be=(0,s._)("div",{class:"mb-3"},null,-1),fe=(0,s._)("div",{class:"mb-3"},null,-1);function he(e,r,t,n,i,l){const c=(0,s.up)("Field"),u=(0,s.up)("ErrorMessage"),d=(0,s.up)("Form");return(0,s.wg)(),(0,s.iD)("div",null,[G,(0,s.Wm)(d,{onSubmit:l.onSubmit,class:"needs-validation","validation-schema":i.schema},{default:(0,s.w5)((()=>[(0,s._)("div",Q,[ee,(0,s.Wm)(c,{name:"name",type:"text",class:"form-control"}),(0,s.Wm)(u,{name:"name",class:"error-feedback"})]),(0,s._)("div",re,[te,(0,s.Wm)(c,{name:"lastname",type:"name",class:"form-control"}),(0,s.Wm)(u,{name:"lastname",class:"error-feedback"})]),(0,s._)("div",oe,[se,(0,s.Wm)(c,{name:"email",type:"email",class:"form-control"}),(0,s.Wm)(u,{name:"email",class:"error-feedback"})]),(0,s._)("div",ae,[ne,(0,s.Wm)(c,{name:"password",type:"password",class:"form-control"}),(0,s.Wm)(u,{name:"password",class:"error-feedback"})]),(0,s._)("div",ie,[le,(0,s.Wm)(c,{name:"repeat_password",type:"password",class:"form-control"}),(0,s.Wm)(u,{name:"repeat_password",class:"error-feedback"})]),(0,s._)("div",ce,[(0,s._)("button",{class:"btn btn-primary btn-block",disabled:i.loading},[(0,s.wy)((0,s._)("span",de,null,512),[[o.F8,i.loading]]),me],8,ue)]),(0,s._)("div",pe,[i.message?((0,s.wg)(),(0,s.iD)("div",ge,(0,a.zw)(i.message),1)):(0,s.kq)("",!0)])])),_:1},8,["onSubmit","validation-schema"]),be,fe])}var _e=t(265),ve=t.n(_e);const we=ve().create({baseURL:"https://training.melian.me/backend-ecommerce/api/"});var ye={name:"RegisterComponent",data(){const e=(0,T.L)(J.z.object({name:J.z.string({required_error:"Requerido"}).nonempty(),lastname:J.z.string({required_error:"Requerido"}).nonempty(),email:J.z.string({required_error:"Requerido"}).nonempty(),password:J.z.string({required_error:"Requerido"}).nonempty(),repeat_password:J.z.string({required_error:"Requerido"}).nonempty()}).refine((e=>e.password===e.repeat_password),{message:"Las contraseñas no coinciden.",path:["repeat_password"]}));return{loading:!1,message:"",schema:e}},methods:{onSubmit(e){we.post("auth/register",e).then((e=>{e.data.success?this.message="Registro exitoso":this.message="Hubo un problema con su registro"})).catch((e=>console.log(e)))}},computed:{},watch:{},created(){},mounted(){},components:{Form:H.l0,Field:H.gN,ErrorMessage:H.Bc}};const ke=(0,h.Z)(ye,[["render",he]]);var Pe=ke;const Ie=(0,s._)("div",{class:"spinner-border my-3",role:"status"},null,-1),Ue=[Ie];function Ee(e,r,t,o,a,n){return(0,s.wg)(),(0,s.iD)("div",null,Ue)}var Le={name:"LoaderComponent",data(){return{}},methods:{},computed:{},watch:{},created(){},mounted(){}};const Se=(0,h.Z)(Le,[["render",Ee]]);var Ae=Se,Re=t(678),Ce=t(749);const qe=(e,r)=>{localStorage.setItem(e,JSON.stringify(r))},Oe=e=>JSON.parse(localStorage.getItem(e)),We=e=>{localStorage.removeItem(e)};class Be{login(e){return we.post("auth/login",{email:e.email,password:e.password}).then((e=>(e.data.success&&qe("user",e.data),e.data)))}getCurrentUser(){return Oe("user")}logout(){We("user")}register(e){return we.post("auth/register",{username:e.username,email:e.email,password:e.password})}}var De=new Be;const je=Oe("user"),Fe=je?{status:{loggedIn:!0},user:je}:{status:{loggedIn:!1},user:null},xe={namespaced:!0,state:Fe,actions:{login({commit:e},r){return De.login(r).then((r=>r.success?(e("loginSuccess",r),Promise.resolve(r)):(e("loginFailure"),Promise.reject(r.error))),(r=>(e("loginFailure"),Promise.reject(r))))},logout({commit:e}){De.logout(),e("logout")},register({commit:e},r){return De.register(r).then((r=>(e("registerSuccess"),Promise.resolve(r.data))),(r=>(e("registerFailure"),Promise.reject(r))))}},mutations:{loginSuccess(e,r){e.status.loggedIn=!0,e.user=r},loginFailure(e){e.status.loggedIn=!1,e.user=null},logout(e){e.status.loggedIn=!1,e.user=null},registerSuccess(e){e.status.loggedIn=!1},registerFailure(e){e.status.loggedIn=!1}}},ze=(0,Ce.MT)({modules:{auth:xe}});var Ne=ze,Ve=t(969);const $e=(0,Ve.lX)();we.interceptors.request.use((e=>{const r=De.getCurrentUser();return null!=r&&null!=r.token&&(e.headers.Authorization=`Bearer ${r.token}`),e}),(e=>Promise.reject(e))),we.interceptors.response.use((e=>("undefined"!==typeof e.data.status&&"Token is Expired"===e.data.status&&De.logout(),"undefined"!==typeof e.data.success&&"No Autorizado"===e.data.message&&De.logout(),e)),(e=>{if(e.response)if(401===e.response.status){De.logout();let e="";"undefined"!==typeof{NODE_ENV:"production",VUE_APP_PUBLIC_URL_API:"https://training.melian.me/backend-ecommerce/api/",BASE_URL:"/teams/"}.PUBLIC_URL?e={NODE_ENV:"production",VUE_APP_PUBLIC_URL_API:"https://training.melian.me/backend-ecommerce/api/",BASE_URL:"/teams/"}.PUBLIC_URL:"undefined"!==typeof{NODE_ENV:"production",VUE_APP_PUBLIC_URL_API:"https://training.melian.me/backend-ecommerce/api/",BASE_URL:"/teams/"}.VUE_APP_PUBLIC_URL&&(e={NODE_ENV:"production",VUE_APP_PUBLIC_URL_API:"https://training.melian.me/backend-ecommerce/api/",BASE_URL:"/teams/"}.VUE_APP_PUBLIC_URL),$e.push({pathname:e+"/login"}),window.location.reload()}else 405===e.response.status||e.response.status;return Promise.reject(e)}));const Me=[{path:"/",component:E},{path:"/acerca-de",component:q},{path:"/login",component:Y},{path:"/register",component:Pe}],Ze=(0,Re.p7)({history:(0,Re.PO)("/teams/"),routes:Me}),He=(0,o.ri)(v);He.component("loader-component",Ae),He.use(Ze),He.use(Ne),He.mount("#app")}},r={};function t(o){var s=r[o];if(void 0!==s)return s.exports;var a=r[o]={exports:{}};return e[o](a,a.exports,t),a.exports}t.m=e,function(){var e=[];t.O=function(r,o,s,a){if(!o){var n=1/0;for(u=0;u<e.length;u++){o=e[u][0],s=e[u][1],a=e[u][2];for(var i=!0,l=0;l<o.length;l++)(!1&a||n>=a)&&Object.keys(t.O).every((function(e){return t.O[e](o[l])}))?o.splice(l--,1):(i=!1,a<n&&(n=a));if(i){e.splice(u--,1);var c=s();void 0!==c&&(r=c)}}return r}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[o,s,a]}}(),function(){t.n=function(e){var r=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(r,{a:r}),r}}(),function(){t.d=function(e,r){for(var o in r)t.o(r,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:r[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)}}(),function(){var e={143:0};t.O.j=function(r){return 0===e[r]};var r=function(r,o){var s,a,n=o[0],i=o[1],l=o[2],c=0;if(n.some((function(r){return 0!==e[r]}))){for(s in i)t.o(i,s)&&(t.m[s]=i[s]);if(l)var u=l(t)}for(r&&r(o);c<n.length;c++)a=n[c],t.o(e,a)&&e[a]&&e[a][0](),e[n[c]]=0;return t.O(u)},o=self["webpackChunkes_boilerplate_vue"]=self["webpackChunkes_boilerplate_vue"]||[];o.forEach(r.bind(null,0)),o.push=r.bind(null,o.push.bind(o))}();var o=t.O(void 0,[998],(function(){return t(170)}));o=t.O(o)})();
//# sourceMappingURL=app.0f5969cc.js.map