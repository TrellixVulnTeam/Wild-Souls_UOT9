{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, vShow as _vShow, withDirectives as _withDirectives, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, withCtx as _withCtx } from \"vue\";\nconst _hoisted_1 = {\n  class: \"mb-3\"\n};\n\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"email\",\n  class: \"form-label\"\n}, \"Correo Electrónico\", -1);\n\nconst _hoisted_3 = {\n  class: \"input-group has-validation\"\n};\nconst _hoisted_4 = {\n  class: \"invalid-feedback\"\n};\nconst _hoisted_5 = {\n  class: \"mb-3\"\n};\n\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"password\"\n}, \"Contraseña\", -1);\n\nconst _hoisted_7 = {\n  class: \"mb-3\"\n};\nconst _hoisted_8 = [\"disabled\"];\nconst _hoisted_9 = {\n  class: \"spinner-border spinner-border-sm\"\n};\n\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"span\", null, \"Iniciar Sesión\", -1);\n\nconst _hoisted_11 = {\n  class: \"form-group\"\n};\nconst _hoisted_12 = {\n  key: 0,\n  class: \"alert alert-danger\",\n  role: \"alert\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Field = _resolveComponent(\"Field\");\n\n  const _component_ErrorMessage = _resolveComponent(\"ErrorMessage\");\n\n  const _component_Form = _resolveComponent(\"Form\");\n\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_Form, {\n    onSubmit: $options.onSubmit,\n    \"validation-schema\": $data.schema,\n    class: \"needs-validation\"\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_Field, {\n      name: \"email\",\n      type: \"email\",\n      class: \"form-control\"\n    }), _createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_ErrorMessage, {\n      as: \"div\",\n      name: \"email\",\n      class: \"error-feedback\"\n    })])])]), _createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _createVNode(_component_Field, {\n      name: \"password\",\n      type: \"password\",\n      class: \"form-control\"\n    }), _createVNode(_component_ErrorMessage, {\n      name: \"password\",\n      class: \"error-feedback\"\n    })]), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"button\", {\n      class: \"btn btn-primary btn-block\",\n      disabled: $data.loading\n    }, [_withDirectives(_createElementVNode(\"span\", _hoisted_9, null, 512), [[_vShow, $data.loading]]), _hoisted_10], 8, _hoisted_8)]), _createElementVNode(\"div\", _hoisted_11, [$data.message ? (_openBlock(), _createElementBlock(\"div\", _hoisted_12, _toDisplayString($data.message), 1)) : _createCommentVNode(\"\", true)])]),\n    _: 1\n  }, 8, [\"onSubmit\", \"validation-schema\"])]);\n}","map":{"version":3,"sources":["C:\\Users\\Jeloska Chavez\\proyecto final\\FRONTEND-NODE-VUE-es-boilerplate-vue\\src\\pages\\auth\\Login.vue"],"names":[],"mappings":";;AAGW,EAAA,KAAK,EAAC;;;gCACT,mBAAA,CAAgE,OAAhE,EAAgE;AAAzD,EAAA,GAAG,EAAC,OAAqD;AAA7C,EAAA,KAAK,EAAC;AAAuC,CAAhE,EAAsC,oBAAtC,EAAwD,CAAA,CAAxD,C;;;AACK,EAAA,KAAK,EAAC;;;AAEJ,EAAA,KAAK,EAAC;;;AAKV,EAAA,KAAK,EAAC;;;gCACT,mBAAA,CAAwC,OAAxC,EAAwC;AAAjC,EAAA,GAAG,EAAC;AAA6B,CAAxC,EAAsB,YAAtB,EAAgC,CAAA,CAAhC,C;;;AAIG,EAAA,KAAK,EAAC;;;;AAEgB,EAAA,KAAK,EAAC;;;iCAC7B,mBAAA,CAA2B,MAA3B,EAA2B,IAA3B,EAAM,gBAAN,EAAoB,CAAA,CAApB,C;;;AAGC,EAAA,KAAK,EAAC;;;;AACW,EAAA,KAAK,EAAC,oB;AAAqB,EAAA,IAAI,EAAC;;;;;;;;;uBAvB1D,mBAAA,CA4BM,KA5BN,EA4BM,IA5BN,EA4BM,CA3BJ,YAAA,CA0BO,eA1BP,EA0BO;AA1BA,IAAA,QAAM,EAAE,QAAA,CAAA,QA0BR;AA1BmB,yBAAmB,KAAA,CAAA,MA0BtC;AA1B8C,IAAA,KAAK,EAAC;AA0BpD,GA1BP,E;sBACE,MAQM,CARN,mBAAA,CAQM,KARN,EAAA,UAAA,EAQM,CAPJ,UAOI,EANJ,mBAAA,CAKM,KALN,EAAA,UAAA,EAKM,CAJJ,YAAA,CAAwD,gBAAxD,EAAwD;AAAjD,MAAA,IAAI,EAAC,OAA4C;AAApC,MAAA,IAAI,EAAC,OAA+B;AAAvB,MAAA,KAAK,EAAC;AAAiB,KAAxD,CAII,EAHJ,mBAAA,CAEM,KAFN,EAAA,UAAA,EAEM,CADJ,YAAA,CAA6D,uBAA7D,EAA6D;AAA/C,MAAA,EAAE,EAAC,KAA4C;AAAtC,MAAA,IAAI,EAAC,OAAiC;AAAzB,MAAA,KAAK,EAAC;AAAmB,KAA7D,CACI,CAFN,CAGI,CALN,CAMI,CARN,CAQM,EACN,mBAAA,CAIM,KAJN,EAAA,UAAA,EAIM,CAHJ,UAGI,EAFJ,YAAA,CAA8D,gBAA9D,EAA8D;AAAvD,MAAA,IAAI,EAAC,UAAkD;AAAvC,MAAA,IAAI,EAAC,UAAkC;AAAvB,MAAA,KAAK,EAAC;AAAiB,KAA9D,CAEI,EADJ,YAAA,CAAuD,uBAAvD,EAAuD;AAAzC,MAAA,IAAI,EAAC,UAAoC;AAAzB,MAAA,KAAK,EAAC;AAAmB,KAAvD,CACI,CAJN,CADM,EAMN,mBAAA,CAKM,KALN,EAAA,UAAA,EAKM,CAJJ,mBAAA,CAGS,QAHT,EAGS;AAHD,MAAA,KAAK,EAAC,2BAGL;AAHkC,MAAA,QAAQ,EAAE,KAAA,CAAA;AAG5C,KAHT,E,iBACE,mBAAA,CAAuE,MAAvE,EAAA,UAAA,EAAuE,IAAvE,EAAuE,GAAvE,C,EAAuE,C,SAAzD,KAAA,CAAA,O,CAAyD,C,GACvE,W,CAFF,E,CAAA,E,UAAA,CAII,CALN,CANM,EAYN,mBAAA,CAIM,KAJN,EAAA,WAAA,EAIM,CAHO,KAAA,CAAA,O,kBAAX,mBAAA,CAEM,KAFN,EAAA,WAAA,EAEM,gBAAA,CADD,KAAA,CAAA,OACC,CAFN,EACY,CADZ,C,iCAGI,CAJN,CAZM,C;;GATR,E,CAAA,E,iCAAA,CA2BI,CA5BN,C","sourcesContent":["<template>\n  <div>\n    <Form @submit=\"onSubmit\" :validation-schema=\"schema\" class=\"needs-validation\">\n      <div class=\"mb-3\">\n        <label for=\"email\" class=\"form-label\">Correo Electrónico</label>\n        <div class=\"input-group has-validation\">\n          <Field name=\"email\" type=\"email\" class=\"form-control\" />\n          <div class=\"invalid-feedback\">\n            <ErrorMessage as=\"div\" name=\"email\" class=\"error-feedback\" />\n          </div>\n        </div>\n      </div>\n      <div class=\"mb-3\">\n        <label for=\"password\">Contraseña</label>\n        <Field name=\"password\" type=\"password\" class=\"form-control\" />\n        <ErrorMessage name=\"password\" class=\"error-feedback\" />\n      </div>\n      <div class=\"mb-3\">\n        <button class=\"btn btn-primary btn-block\" :disabled=\"loading\">\n          <span v-show=\"loading\" class=\"spinner-border spinner-border-sm\"></span>\n          <span>Iniciar Sesión</span>\n        </button>\n      </div>\n      <div class=\"form-group\">\n        <div v-if=\"message\" class=\"alert alert-danger\" role=\"alert\">\n          {{ message }}\n        </div>\n      </div>\n    </Form>\n  </div>\n</template>\n<script>\nimport { Form, Field, ErrorMessage } from 'vee-validate';\nimport { toFormValidator } from '@vee-validate/zod';\nimport { z } from 'zod';\n\nexport default {\n  name: 'LoginPage',\n  data() {\n    const schema = toFormValidator(\n      z.object({\n        email: z\n          .string({ required_error: 'El correo electrónico es un campo requerido.' })\n          .min(1, 'El correo electrónico es un campo requerido.'),\n        password: z\n          .string({ required_error: 'La contraseña es un campo requerido.' })\n          .min(1, 'La contraseña es un campo requerido.'),\n      }),\n    );\n    return {\n      loading: false,\n      message: '',\n      schema,\n    };\n  },\n  methods: {\n    onSubmit(user) {\n      this.loading = true;\n      this.$store.dispatch('auth/login', user).then(\n        () => this.$router.push('/'),\n        (error) => {\n          this.loading = false;\n          this.message = error;\n        },\n      );\n    },\n  },\n  computed: {\n    loggedIn() {\n      return this.$store.state.auth.status.loggedIn;\n    },\n  },\n  watch: {},\n  created() {\n    if (this.loggedIn) {\n      this.$router.push('/');\n    }\n  },\n  mounted() {},\n  components: {\n    Form,\n    Field,\n    ErrorMessage,\n  },\n  // Se pueden utilizar estos hooks para el ciclo de vida\n  // beforeCreate, created, beforeMount, mounted, beforeUpdate, updated\n  // activated, deactivated, beforeUnmount, unmounted\n};\n</script>\n\n<style scoped></style>\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}